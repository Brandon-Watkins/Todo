{"ast":null,"code":"import _objectSpread from \"/Users/brandon/Desktop/ReactProjects/Proj2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/brandon/Desktop/ReactProjects/Proj2/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport * as Redux from \"@reduxjs/toolkit\";\n/************************************* Reducers ******************************/\n//Reducer handling updating individual todo objects\n\nconst todo = (state = {}, action) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return {\n        id: action.id,\n        text: action.text,\n        completed: false\n      };\n\n    case 'TOGGLE_TODO':\n      if (state.id !== action.id) {\n        return state; //Not the todo we're looking for.\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        completed: !state.completed\n      });\n\n    default:\n      return state;\n  }\n}; // Reducer handling updating the list containing all todo objects\n\n\nconst todos = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return [...state, todo(undefined, action)];\n\n    case 'TOGGLE_TODO':\n      return state.map(t => todo(t, action));\n\n    case 'REMOVE_TODO':\n      return state.filter(t => t.id !== action.id);\n\n    default:\n      return state;\n  }\n}; // Reducer handling updating the visibility filter for the app\n\n\nconst visibilityFilter = (state = 'SHOW_ALL', action) => {\n  switch (action.type) {\n    case 'SET_VISIBILITY_FILTER':\n      return action.filter;\n\n    default:\n      return state;\n  }\n}; // Reducer handling combining the list of todos with the visibility filter, representing the\n// final UI state\n\n\nconst combineReducers = Redux.combineReducers;\nconst todoApp = combineReducers({\n  todos,\n  visibilityFilter\n});\n/************************************* Event Handlers ******************************/\n\nconst handleKeyDown = (e, button) => {\n  e = e || Window.event;\n\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    if (button.hasFocus) return;\n    button.focus();\n  }\n};\n\nconst handleKeyUp = (e, button) => {\n  e = e || Window.event;\n\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    button.click();\n  }\n};\n\nlet nextTodoId = 0;\n\nconst handleButtonClick = (input, store) => {\n  if (input.value === '' || input.value === undefined) return input.focus();\n  input.focus();\n  const temp = input.value;\n  input.value = '';\n  return store.dispatch({\n    type: 'ADD_TODO',\n    text: temp,\n    id: nextTodoId++\n  });\n};\n\nconst handleLeftClickTodo = (id, store) => {\n  store.dispatch({\n    type: 'TOGGLE_TODO',\n    id\n  });\n};\n\nconst handleRightClickTodo = (id, store) => {\n  store.dispatch({\n    type: 'REMOVE_TODO',\n    id\n  });\n  console.log(id);\n  document.getElementsByTagName('input')[0].focus();\n};\n\nconst handleClickTodo = (e, id, store) => {\n  e = e || Window.event;\n\n  if (e.type) {\n    if (e.type === 'click') return handleLeftClickTodo(id, store);\n\n    if (e.type === 'contextmenu') {\n      e.preventDefault();\n      return handleRightClickTodo(id, store);\n    }\n  } else if (e.which) {\n    if (e.which === 0) return handleLeftClickTodo(id, store);\n\n    if (e.which === 1) {\n      e.stopPropagation() || e.preventDefault();\n      return handleRightClickTodo(id, store);\n    }\n  } else if (e.button) {\n    if (e.button === 1) return handleLeftClickTodo(id, store);\n\n    if (e.button === 2) {\n      e.stopPropagation() || e.preventDefault();\n      return handleRightClickTodo(id, store);\n    }\n  }\n};\n/************************************* Presentation Components ******************************/\n\n\nconst AddTodo = ({\n  store\n}) => {\n  let input = React.useRef(null);\n  let button = React.useRef(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => input.focus(),\n    onLoad: () => input.focus(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: node => {\n      input = node;\n    },\n    onKeyUp: e => handleKeyUp(e, button),\n    onKeyDown: e => handleKeyDown(e, button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    ref: buttonNode => {\n      button = buttonNode;\n    },\n    onClick: () => handleButtonClick(input, store),\n    onKeyDown: e => handleKeyDown(e, button),\n    onKeyUp: e => handleKeyUp(e, button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 10\n    }\n  }, \"Add Todo\"));\n};\n\nconst Todo = ({\n  store,\n  onClick: _onClick,\n  completed,\n  text,\n  onContextMenu: _onContextMenu,\n  id\n}) => /*#__PURE__*/React.createElement(\"li\", {\n  onClick: e => _onClick(e, id, store),\n  onContextMenu: e => _onContextMenu(e, id, store),\n  style: {\n    textDecoration: completed ? 'line-through' : 'none'\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 4\n  }\n}, text);\n\nconst TodoList = ({\n  store,\n  todos,\n  onTodoClick\n}) => /*#__PURE__*/React.createElement(\"ul\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 4\n  }\n}, todos.map(todo => /*#__PURE__*/React.createElement(Todo, Object.assign({\n  store: store,\n  key: todo.id\n}, todo, {\n  onClick: onTodoClick,\n  onContextMenu: onTodoClick,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 10\n  }\n}))));\n\nconst Footer = ({\n  store\n}) => {\n  return /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      margin: 0,\n      marginBottom: '0.2em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, \"Show:\", ' ', /*#__PURE__*/React.createElement(FilterLink, {\n    filter: \"SHOW_ALL\",\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 10\n    }\n  }, \"All\"), ' ', /*#__PURE__*/React.createElement(FilterLink, {\n    filter: \"SHOW_ACTIVE\",\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 10\n    }\n  }, \"Active\"), ' ', /*#__PURE__*/React.createElement(FilterLink, {\n    filter: \"SHOW_COMPLETED\",\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 10\n    }\n  }, \"Completed\"));\n};\n\nconst Link = ({\n  active,\n  children,\n  onClick: _onClick2\n}) => {\n  if (active) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 14\n      }\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    onClick: e => {\n      e.preventDefault();\n\n      _onClick2();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }\n  }, children);\n};\n/************************************* Container Components ******************************/\n\n\nconst Component = React.Component;\n\nclass VisibleTodoList extends Component {\n  componentDidMount() {\n    const store = this.props.store;\n    this.unsubscribe = store.subscribe(() => this.forceUpdate());\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const props = this.props;\n    const store = props.store;\n    const state = store.getState();\n    return /*#__PURE__*/React.createElement(TodoList, {\n      todos: getVisibleTodos(state.todos, state.visibilityFilter),\n      store: store,\n      onTodoClick: e => handleClickTodo(e, props.id, store),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 10\n      }\n    });\n  }\n\n}\n\nclass FilterLink extends Component {\n  componentDidMount() {\n    const store = this.props.store;\n    this.unsubscribe = store.subscribe(() => this.forceUpdate());\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const props = this.props;\n    const store = props.store;\n    const state = store.getState();\n    return /*#__PURE__*/React.createElement(Link, {\n      active: props.filter === state.visibilityFilter,\n      onClick: () => store.dispatch({\n        type: 'SET_VISIBILITY_FILTER',\n        filter: props.filter\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 10\n      }\n    }, props.children);\n  }\n\n}\n\nconst getVisibleTodos = (todos, filter) => {\n  switch (filter) {\n    case 'SHOW_COMPLETED':\n      return todos.filter(t => t.completed);\n\n    case 'SHOW_ACTIVE':\n      return todos.filter(t => !t.completed);\n\n    default:\n      return todos;\n  }\n};\n\nconst TodoApp = ({\n  store\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '15em',\n      border: '1px solid black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 10\n    }\n  }, \"Todo\"), /*#__PURE__*/React.createElement(AddTodo, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(VisibleTodoList, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    store: store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '0.75em',\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 10\n    }\n  }, \"Left click an item to toggle its completion.\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '0.75em',\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 10\n    }\n  }, \"Right click an item to remove it from the list.\"));\n};\n\nconst createStore = Redux.createStore;\nReactDOM.render( /*#__PURE__*/React.createElement(TodoApp, {\n  store: createStore(todoApp),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 4\n  }\n}), document.getElementById('root'));\nif (document) document.addEventListener('DOMContentLoaded', function () {\n  document.getElementsByTagName('input')[0].focus();\n\n  window.onclick = function () {\n    document.getElementsByTagName('input')[0].focus();\n  };\n});","map":{"version":3,"sources":["/Users/brandon/Desktop/ReactProjects/Proj2/src/index.js"],"names":["React","ReactDOM","Redux","todo","state","action","type","id","text","completed","todos","undefined","map","t","filter","visibilityFilter","combineReducers","todoApp","handleKeyDown","e","button","Window","event","keyCode","preventDefault","hasFocus","focus","handleKeyUp","click","nextTodoId","handleButtonClick","input","store","value","temp","dispatch","handleLeftClickTodo","handleRightClickTodo","console","log","document","getElementsByTagName","handleClickTodo","which","stopPropagation","AddTodo","useRef","node","buttonNode","Todo","onClick","onContextMenu","textDecoration","TodoList","onTodoClick","Footer","margin","marginBottom","Link","active","children","Component","VisibleTodoList","componentDidMount","props","unsubscribe","subscribe","forceUpdate","componentWillUnmount","render","getState","getVisibleTodos","FilterLink","TodoApp","width","border","textAlign","fontSize","createStore","getElementById","addEventListener","window","onclick"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport * as Redux from \"@reduxjs/toolkit\";\n\n/************************************* Reducers ******************************/\n\n//Reducer handling updating individual todo objects\nconst todo = (state = {}, action) => {\n   switch (action.type) {\n      case 'ADD_TODO':\n         return {\n            id: action.id,\n            text: action.text,\n            completed:false\n         };\n      case 'TOGGLE_TODO':\n         if (state.id !== action.id) {\n            return state;//Not the todo we're looking for.\n         }\n         return {\n            ...state,\n            completed: !state.completed\n         };\n      default:\n         return state;\n   }\n}\n\n// Reducer handling updating the list containing all todo objects\nconst todos = (state = [], action) => {\n   switch (action.type) {\n      case 'ADD_TODO':\n         return [\n            ...state,\n            todo(undefined, action)\n         ];\n      case 'TOGGLE_TODO':\n         return state.map(t => todo(t, action));\n      case 'REMOVE_TODO':\n         return state.filter(t => t.id !== action.id);\n      default:\n         return state;\n   }\n};\n\n// Reducer handling updating the visibility filter for the app\nconst visibilityFilter = (state = 'SHOW_ALL', action) => {\n   switch (action.type) {\n      case 'SET_VISIBILITY_FILTER':\n         return action.filter;\n      default:\n         return state;\n   }\n};\n\n// Reducer handling combining the list of todos with the visibility filter, representing the\n// final UI state\nconst { combineReducers } = Redux;\nconst todoApp = combineReducers({\n   todos,\n   visibilityFilter\n});\n\n/************************************* Event Handlers ******************************/\n\nconst handleKeyDown = (e, button) => {\n   e = e || Window.event;\n   if (e.keyCode === 13) {\n      e.preventDefault();\n      if (button.hasFocus) return;\n      button.focus();\n   }\n}\n\nconst handleKeyUp = (e, button) => {\n   e = e || Window.event;\n   if (e.keyCode === 13) {\n      e.preventDefault();\n      button.click();\n   }\n};\n\nlet nextTodoId = 0;\nconst handleButtonClick = (input, store) => {\n   if (input.value === '' || input.value === undefined) return input.focus();\n   input.focus();\n   const temp = input.value;\n   input.value = '';\n   return (\n      store.dispatch({\n         type: 'ADD_TODO',\n         text: temp,\n         id: nextTodoId++\n      })\n   );\n};\n\nconst handleLeftClickTodo = (id, store) => {\n   store.dispatch({\n      type: 'TOGGLE_TODO',\n      id\n   })\n}\n\nconst handleRightClickTodo = (id, store) => {\n   store.dispatch({\n      type: 'REMOVE_TODO',\n      id\n   })\n   console.log(id);\n   document.getElementsByTagName('input')[0].focus();\n}\n\nconst handleClickTodo = (e, id, store) => {\n   e = e || Window.event;\n   if (e.type) {\n      if (e.type === 'click') return handleLeftClickTodo(id, store);\n      if (e.type === 'contextmenu'){\n         e.preventDefault();\n         return handleRightClickTodo(id, store);\n      }\n   }\n   else if (e.which) {\n      if (e.which === 0) return handleLeftClickTodo(id, store);\n      if (e.which === 1){\n         e.stopPropagation() || e.preventDefault();\n         return handleRightClickTodo(id, store);\n      }\n   }\n   else if (e.button) {\n      if (e.button === 1) return handleLeftClickTodo(id, store);\n      if (e.button === 2){\n         e.stopPropagation() || e.preventDefault();\n         return handleRightClickTodo(id, store);\n      }\n   }\n}\n\n/************************************* Presentation Components ******************************/\n\nconst AddTodo = ({store}) => {\n   let input = React.useRef(null);\n   let button = React.useRef(null);\n   return (\n      <div\n         onClick={() =>\n            input.focus()}\n         onLoad={() =>\n            input.focus()}\n      >\n         <input\n            ref={node => {\n               input = node;\n            }}\n            onKeyUp={(e) => handleKeyUp(e, button)}\n            onKeyDown={(e) => handleKeyDown(e, button)}\n         />\n         <button\n            ref={buttonNode => {\n               button = buttonNode;\n            }}\n            onClick={() => handleButtonClick(input, store)}\n            onKeyDown={(e) => handleKeyDown(e, button)}\n            onKeyUp={(e) => handleKeyUp(e, button)}\n         >\n            Add Todo\n         </button>\n      </div>\n   );\n};\n\nconst Todo = ({\n   store,\n   onClick,\n   completed,\n   text,\n   onContextMenu,\n   id\n}) => (\n   <li\n      onClick={e => onClick(e, id, store)}\n      onContextMenu={e => onContextMenu(e, id, store)}\n      style={{\n         textDecoration: completed? 'line-through' : 'none'\n      }}\n   >\n      {text}\n   </li>\n);\n\n\nconst TodoList = ({\n   store,\n   todos,\n   onTodoClick\n}) => (\n   <ul>\n      {todos.map(todo =>\n         <Todo\n            store={store}\n            key={todo.id}\n            {...todo}\n            onClick={onTodoClick}\n            onContextMenu={onTodoClick}\n         />\n      )}\n   </ul>\n);\n\nconst Footer = ({store}) => {\n   return (\n      <p style={{margin:0, marginBottom:'0.2em'}}>\n         Show:\n         {' '}\n         <FilterLink\n            filter='SHOW_ALL'\n            store={store}\n         >\n            All\n         </FilterLink>\n         {' '}\n         <FilterLink\n            filter='SHOW_ACTIVE'\n            store={store}\n         >\n            Active\n         </FilterLink>\n         {' '}\n         <FilterLink\n            filter='SHOW_COMPLETED'\n            store={store}\n         >\n            Completed\n         </FilterLink>\n      </p>\n   );\n};\n\nconst Link = ({\n  active,\n  children,\n  onClick\n}) => {\n   if (active) {\n      return <span>{children}</span>;\n   }\n   return (\n      <a\n         href='#'\n         onClick={e => {\n            e.preventDefault();\n            onClick();\n         }}\n      >\n         {children}\n      </a>\n   );\n};\n\n/************************************* Container Components ******************************/\n\nconst { Component } = React;\n\nclass VisibleTodoList extends Component {\n   componentDidMount() {\n      const { store } = this.props;\n      this.unsubscribe = store.subscribe(() =>\n         this.forceUpdate()\n      );\n   }\n   componentWillUnmount() {\n      this.unsubscribe();\n   }\n   render() {\n      const props = this.props;\n      const { store } = props;\n      const state = store.getState();\n      return (\n         <TodoList\n            todos={\n               getVisibleTodos(\n                  state.todos,\n                  state.visibilityFilter\n               )\n            }\n            store={store}\n            onTodoClick={e => handleClickTodo(e, props.id, store)}\n         />\n      );\n   };\n}\n\nclass FilterLink extends Component {\n   componentDidMount() {\n      const { store } = this.props;\n      this.unsubscribe = store.subscribe(() =>\n         this.forceUpdate()\n      );\n   }\n   componentWillUnmount() {\n      this.unsubscribe();\n   }\n   render() {\n      const props = this.props;\n      const { store } = props;\n      const state = store.getState();\n      return (\n         <Link\n            active={props.filter === state.visibilityFilter}\n            onClick={() =>\n               store.dispatch({\n                  type: 'SET_VISIBILITY_FILTER',\n                  filter: props.filter\n               })\n            }\n         >\n            {props.children}\n         </Link>\n      );\n   };\n}\n\nconst getVisibleTodos = (\n   todos,\n   filter\n) => {\n   switch (filter) {\n      case 'SHOW_COMPLETED':\n         return todos.filter(\n            t => t.completed\n         );\n      case 'SHOW_ACTIVE':\n         return todos.filter(\n            t => !t.completed\n         );\n      default:\n         return todos;\n   }\n};\n\nconst TodoApp = ({store}) => {\n   return (\n      <div style={{width:'15em', border:'1px solid black'}}>\n         <h1 style={{textAlign:'center'}}>Todo</h1>\n         <AddTodo store={store} />\n         <VisibleTodoList store={store} />\n         <Footer store={store} />\n         <p style={{fontSize:'0.75em', margin:0}}>Left click an item to toggle its completion.</p>\n         <p style={{fontSize:'0.75em', margin:0}}>Right click an item to remove it from the list.</p>\n      </div>\n   );\n};\n\nconst { createStore } = Redux;\n\nReactDOM.render(\n   <TodoApp store={createStore(todoApp)} />, document.getElementById('root')\n);\n\nif (document) document.addEventListener('DOMContentLoaded', function() {\n   document.getElementsByTagName('input')[0].focus();\n   window.onclick = function() {document.getElementsByTagName('input')[0].focus()};\n})\n\n\n\n"]},"metadata":{},"sourceType":"module"}