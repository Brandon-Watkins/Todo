{"ast":null,"code":"import _objectSpread from \"/Users/brandon/Desktop/ReactProjects/Proj2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/brandon/Desktop/ReactProjects/Proj2/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport * as Redux from \"@reduxjs/toolkit\";\nimport deepFreeze from \"deep-freeze\";\n/************************************* Reducers ******************************/\n//Reducer handling updating individual todo objects\n\nconst todo = (state = {}, action) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return {\n        id: action.id,\n        text: action.text,\n        completed: false\n      };\n\n    case 'TOGGLE_TODO':\n      if (state.id !== action.id) {\n        return state; //Not the todo we're looking for.\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        completed: !state.completed\n      });\n\n    default:\n      return state;\n  }\n}; // Reducer handling updating the list containing all todo objects\n\n\nconst todos = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return [...state, todo(undefined, action)];\n\n    case 'TOGGLE_TODO':\n      return state.map(t => todo(t, action));\n\n    case 'REMOVE_TODO':\n      return state.filter(t => t.id !== action.id);\n\n    default:\n      return state;\n  }\n}; // Reducer handling updating the visibility filter for the app\n\n\nconst visibilityFilter = (state = 'SHOW_ALL', action) => {\n  switch (action.type) {\n    case 'SET_VISIBILITY_FILTER':\n      return action.filter;\n\n    default:\n      return state;\n  }\n}; // Reducer handling combining the list of todos with the visibility filter, representing the\n// final UI state\n\n\nconst combineReducers = Redux.combineReducers;\nconst todoApp = combineReducers({\n  todos,\n  visibilityFilter\n});\n/************************************* Event Handlers ******************************/\n\nconst handleKeyDown = (e, button) => {\n  e = e || Window.event;\n\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    if (button.hasFocus) return;\n    button.focus();\n  }\n};\n\nconst handleKeyUp = (e, button) => {\n  e = e || Window.event;\n\n  if (e.keyCode === 13) {\n    e.preventDefault();\n    button.click();\n  }\n};\n\nlet nextTodoId = 0;\n\nconst handleButtonClick = ({\n  store,\n  input\n}) => {\n  if (input.value === '' || input.value === undefined) return input.focus();\n  const temp = input.value;\n  input.focus();\n  input.value = '';\n  if (store) return store.dispatch({\n    type: 'ADD_TODO',\n    text: temp,\n    id: nextTodoId++\n  });\n};\n\nconst handleLeftClickTodo = ({\n  store,\n  id\n}) => {\n  store.dispatch({\n    type: 'TOGGLE_TODO',\n    id\n  });\n};\n\nconst handleRightClickTodo = ({\n  store,\n  id\n}) => {\n  store.dispatch({\n    type: 'REMOVE_TODO',\n    id\n  });\n  document.getElementsByTagName('input')[0].focus();\n};\n\nconst handleClickTodo = ({\n  e,\n  id,\n  store\n}) => {\n  e = e || Window.event;\n\n  if (e.type) {\n    if (e.type === 'click') return handleLeftClickTodo({\n      store,\n      id\n    });\n\n    if (e.type === 'contextmenu') {\n      e.preventDefault();\n      return handleRightClickTodo({\n        id,\n        store\n      });\n    }\n  } else if (e.which) {\n    if (e.which === 0) return handleLeftClickTodo({\n      store,\n      id\n    });\n\n    if (e.which === 1) {\n      e.stopPropagation() || e.preventDefault();\n      return handleRightClickTodo({\n        id,\n        store\n      });\n    }\n  } else if (e.button) {\n    if (e.button === 1) return handleLeftClickTodo(id);\n\n    if (e.button === 2) {\n      e.stopPropagation() || e.preventDefault();\n      return handleRightClickTodo({\n        id,\n        store\n      });\n    }\n  }\n};\n/************************************* Presentation Components ******************************/\n\n\nconst AddTodo = (props, {\n  store\n}) => {\n  const divStyle = props.divStyle,\n        inputStyle = props.inputStyle,\n        buttonStyle = props.buttonStyle;\n  let input = React.useRef(null);\n  let button = React.useRef(null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: divStyle,\n    onClick: () => input.focus(),\n    onLoad: () => input.focus(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    style: inputStyle,\n    ref: node => {\n      input = node;\n    },\n    onKeyUp: e => handleKeyUp(e, button),\n    onKeyDown: e => handleKeyDown(e, button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: buttonStyle,\n    ref: buttonNode => {\n      button = buttonNode;\n    },\n    onClick: () => handleButtonClick({\n      store,\n      input\n    }),\n    onKeyDown: e => handleKeyDown(e, button),\n    onKeyUp: e => handleKeyUp(e, button),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 10\n    }\n  }, \"Add Todo\"));\n};\n\nconst Todo = (props, {\n  store\n}) => {\n  const style = props.style,\n        _onClick = props.onClick,\n        completed = props.completed,\n        text = props.text,\n        _onContextMenu = props.onContextMenu,\n        id = props.id;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    onClick: e => _onClick({\n      store,\n      e,\n      id\n    }),\n    onContextMenu: e => _onContextMenu({\n      store,\n      e,\n      id\n    }),\n    style: {\n      textDecoration: completed ? 'line-through' : 'none',\n      style\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, text);\n};\n\nTodo.contextTypes = {\n  store: React.PropTypes.object\n};\n\nconst TodoList = (props, {\n  store\n}) => {\n  const listStyle = props.listStyle,\n        singleTodoStyle = props.singleTodoStyle,\n        todos = props.todos,\n        onTodoClick = props.onTodoClick;\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    style: listStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }, todos.map(todo => /*#__PURE__*/React.createElement(Todo, Object.assign({\n    store: store,\n    style: singleTodoStyle,\n    key: todo.id\n  }, todo, {\n    onClick: onTodoClick,\n    onContextMenu: onTodoClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }))));\n};\n\nTodoList.contextTypes = {\n  store: React.PropTypes.object\n};\n\nconst Footer = (props, {\n  store\n}) => {\n  const footerStyle = props.footerStyle,\n        selectionStyle = props.selectionStyle,\n        linkStyle = props.linkStyle;\n  return /*#__PURE__*/React.createElement(\"p\", {\n    style: footerStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, \"Show:\", ' ', /*#__PURE__*/React.createElement(FilterLink, {\n    store: store,\n    selectionStyle: selectionStyle,\n    linkStyle: linkStyle,\n    filter: \"SHOW_ALL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 10\n    }\n  }, \"All\"), ' ', /*#__PURE__*/React.createElement(FilterLink, {\n    store: store,\n    selectionStyle: selectionStyle,\n    linkStyle: linkStyle,\n    filter: \"SHOW_ACTIVE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 10\n    }\n  }, \"Active\"), ' ', /*#__PURE__*/React.createElement(FilterLink, {\n    store: store,\n    selectionStyle: selectionStyle,\n    linkStyle: linkStyle,\n    filter: \"SHOW_COMPLETED\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 10\n    }\n  }, \"Completed\"));\n};\n\nFooter.contextTypes = {\n  store: React.PropTypes.object\n};\n\nconst Link = props => {\n  const selectionStyle = props.selectionStyle,\n        linkStyle = props.linkStyle,\n        active = props.active,\n        children = props.children,\n        _onClick2 = props.onClick;\n\n  if (active) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      style: selectionStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 14\n      }\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(\"a\", {\n    style: linkStyle,\n    href: \"#\",\n    onClick: e => {\n      e.preventDefault();\n\n      _onClick2();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }\n  }, children);\n};\n/************************************* Container Components ******************************/\n\n\nconst Component = React.Component;\n\nclass VisibleTodoList extends Component {\n  componentDidMount() {\n    const store = this.context.store;\n    this.unsubscribe = store.subscribe(() => this.forceUpdate());\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const props = this.props;\n    const store = this.context.store;\n    const state = store.getState();\n    return /*#__PURE__*/React.createElement(TodoList, {\n      store: store,\n      todos: getVisibleTodos(state.todos, state.visibilityFilter),\n      listStyle: props.listStyle,\n      singleTodoStyle: props.singleTodoStyle,\n      onTodoClick: handleClickTodo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 10\n      }\n    });\n  }\n\n}\n\nVisibleTodoList.contextTypes = {\n  store: React.PropTypes.object\n};\n\nclass FilterLink extends Component {\n  componentDidMount() {\n    const store = this.context.store;\n    this.unsubscribe = store.subscribe(() => this.forceUpdate());\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const props = this.props;\n    const store = this.context.store;\n    const state = store.getState();\n    return /*#__PURE__*/React.createElement(Link, {\n      active: props.filter === state.visibilityFilter,\n      onClick: () => store.dispatch({\n        type: 'SET_VISIBILITY_FILTER',\n        filter: props.filter\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 10\n      }\n    }, props.children);\n  }\n\n}\n\nFilterLink.contextTypes = {\n  store: React.PropTypes.object\n};\n\nconst getVisibleTodos = props => {\n  const todos = props.todos,\n        filter = props.filter;\n\n  switch (filter) {\n    case 'SHOW_COMPLETED':\n      return todos.filter(t => t.completed);\n\n    case 'SHOW_ACTIVE':\n      return todos.filter(t => !t.completed);\n\n    default:\n      return todos;\n  }\n}; //using position:'-webkit-sticky', which only works on Safari. Will need to change later\n\n\nconst TodoApp = ({\n  store\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '15em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center',\n      margin: '16px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 10\n    }\n  }, \"Todo\"), /*#__PURE__*/React.createElement(AddTodo, {\n    store: store,\n    divStyle: {\n      display: 'block',\n      alignContent: 'center',\n      margin: 0,\n      height: '1.25em',\n      width: '100%',\n      position: '-webkit-sticky',\n      left: '0px',\n      top: '0px'\n    },\n    inputStyle: {\n      height: 'calc(100% - 4px)',\n      fontSize: '1em',\n      position: 'absolute',\n      left: '0',\n      right: '6.5em',\n      border: '1px inset #ccc',\n      margin: 0,\n      backgroundColor: '#eee',\n      width: 'calc(100% - 6.5em'\n    },\n    buttonStyle: {\n      height: '100%',\n      width: '6em',\n      position: 'absolute',\n      right: '0',\n      border: '1px outset #aaa',\n      borderRadius: '4px',\n      textAlign: 'center',\n      backgroundColor: '#eee',\n      fontSize: '1em',\n      padding: '0 0.4em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(VisibleTodoList, {\n    store: store,\n    listStyle: {},\n    singleTodoStyle: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    store: store,\n    footerStyle: {\n      textAlign: 'center',\n      margin: '3px',\n      display: 'block'\n    },\n    selectionStyle: {},\n    linkStyle: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 10\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      fontSize: '0.75em',\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 10\n    }\n  }, \"Left click an item to toggle its completion.\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: 'center',\n      fontSize: '0.75em',\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 10\n    }\n  }, \"Right click an item to remove it from the list.\"));\n};\n\nTodoApp.contextTypes = {\n  store: React.PropTypes.object\n};\n\nclass Provider extends Component {\n  getChildContext() {\n    return {\n      store: this.props.store\n    };\n  }\n\n  render() {\n    return this.props.children;\n  }\n\n}\n\nProvider.childContextTypes = {\n  store: React.PropTypes.object\n};\nconst createStore = Redux.createStore;\nReactDOM.render( /*#__PURE__*/React.createElement(Provider, {\n  store: createStore(todoApp),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 420,\n    columnNumber: 4\n  }\n}, /*#__PURE__*/React.createElement(TodoApp, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 421,\n    columnNumber: 7\n  }\n})), document.getElementById('root'));\nif (document) document.addEventListener('DOMContentLoaded', function () {\n  document.getElementsByTagName('input')[0].focus();\n\n  window.onclick = function () {\n    document.getElementsByTagName('input')[0].focus();\n  };\n});","map":{"version":3,"sources":["/Users/brandon/Desktop/ReactProjects/Proj2/src/index.js"],"names":["React","ReactDOM","Redux","deepFreeze","todo","state","action","type","id","text","completed","todos","undefined","map","t","filter","visibilityFilter","combineReducers","todoApp","handleKeyDown","e","button","Window","event","keyCode","preventDefault","hasFocus","focus","handleKeyUp","click","nextTodoId","handleButtonClick","store","input","value","temp","dispatch","handleLeftClickTodo","handleRightClickTodo","document","getElementsByTagName","handleClickTodo","which","stopPropagation","AddTodo","props","divStyle","inputStyle","buttonStyle","useRef","node","buttonNode","Todo","style","onClick","onContextMenu","textDecoration","contextTypes","PropTypes","object","TodoList","listStyle","singleTodoStyle","onTodoClick","Footer","footerStyle","selectionStyle","linkStyle","Link","active","children","Component","VisibleTodoList","componentDidMount","context","unsubscribe","subscribe","forceUpdate","componentWillUnmount","render","getState","getVisibleTodos","FilterLink","TodoApp","width","textAlign","margin","display","alignContent","height","position","left","top","fontSize","right","border","backgroundColor","borderRadius","padding","Provider","getChildContext","childContextTypes","createStore","getElementById","addEventListener","window","onclick"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport * as Redux from \"@reduxjs/toolkit\";\nimport deepFreeze from \"deep-freeze\";\n\n/************************************* Reducers ******************************/\n\n\n//Reducer handling updating individual todo objects\nconst todo = (state = {}, action) => {\n   switch (action.type) {\n      case 'ADD_TODO':\n         return {\n            id: action.id,\n            text: action.text,\n            completed:false\n         };\n      case 'TOGGLE_TODO':\n         if (state.id !== action.id) {\n            return state;//Not the todo we're looking for.\n         }\n         return {\n            ...state,\n            completed: !state.completed\n         };\n      default:\n         return state;\n   }\n}\n\n// Reducer handling updating the list containing all todo objects\nconst todos = (state = [], action) => {\n   switch (action.type) {\n      case 'ADD_TODO':\n         return [\n            ...state,\n            todo(undefined, action)\n         ];\n      case 'TOGGLE_TODO':\n         return state.map(t => todo(t, action));\n      case 'REMOVE_TODO':\n         return state.filter(t => t.id !== action.id);\n      default:\n         return state;\n   }\n};\n\n// Reducer handling updating the visibility filter for the app\nconst visibilityFilter = (state = 'SHOW_ALL', action) => {\n   switch (action.type) {\n      case 'SET_VISIBILITY_FILTER':\n         return action.filter;\n      default:\n         return state;\n   }\n};\n\n// Reducer handling combining the list of todos with the visibility filter, representing the\n// final UI state\nconst { combineReducers } = Redux;\nconst todoApp = combineReducers({\n   todos,\n   visibilityFilter\n});\n\n/************************************* Event Handlers ******************************/\n\nconst handleKeyDown = (e, button) => {\n   e = e || Window.event;\n   if (e.keyCode === 13) {\n      e.preventDefault();\n      if (button.hasFocus) return;\n      button.focus();\n   }\n}\n\nconst handleKeyUp = (e, button) => {\n   e = e || Window.event;\n   if (e.keyCode === 13) {\n      e.preventDefault();\n      button.click();\n   }\n};\n\nlet nextTodoId = 0;\nconst handleButtonClick = ({store, input}) => {\n   if (input.value === '' || input.value === undefined) return input.focus();\n   const temp = input.value;\n   input.focus();\n   input.value = '';\n   if (store) return (\n      store.dispatch({\n         type: 'ADD_TODO',\n         text: temp,\n         id: nextTodoId++\n      })\n   );\n};\n\nconst handleLeftClickTodo = ({store, id}) => {\n   store.dispatch({\n      type: 'TOGGLE_TODO',\n      id\n   })\n}\n\nconst handleRightClickTodo = ({store, id}) => {\n   store.dispatch({\n      type: 'REMOVE_TODO',\n      id\n   })\n   document.getElementsByTagName('input')[0].focus();\n}\n\nconst handleClickTodo = ({e, id, store}) => {\n   e = e || Window.event;\n   if (e.type) {\n      if (e.type === 'click') return handleLeftClickTodo({store, id});\n      if (e.type === 'contextmenu'){\n         e.preventDefault();\n         return handleRightClickTodo({id, store});\n      }\n   }\n   else if (e.which) {\n      if (e.which === 0) return handleLeftClickTodo({store, id});\n      if (e.which === 1){\n         e.stopPropagation() || e.preventDefault();\n         return handleRightClickTodo({id, store});\n      }\n   }\n   else if (e.button) {\n      if (e.button === 1) return handleLeftClickTodo(id);\n      if (e.button === 2){\n         e.stopPropagation() || e.preventDefault();\n         return handleRightClickTodo({id, store});\n      }\n   }\n}\n\n/************************************* Presentation Components ******************************/\n\nconst AddTodo = ( props, { store }) => {\n   const {divStyle, inputStyle, buttonStyle } = props;\n   let input = React.useRef(null);\n   let button = React.useRef(null);\n   return (\n      <div\n         style={divStyle}\n         onClick={() =>\n            input.focus()}\n         onLoad={() =>\n            input.focus()}\n      >\n         <input\n            style={inputStyle}\n            ref={node => {\n               input = node;\n            }}\n            onKeyUp={(e) => handleKeyUp(e, button)}\n            onKeyDown={(e) => handleKeyDown(e, button)}\n         />\n         <button\n            style={buttonStyle}\n            ref={buttonNode => {\n               button = buttonNode;\n            }}\n            onClick={() => handleButtonClick({store, input})}\n            onKeyDown={(e) => handleKeyDown(e, button)}\n            onKeyUp={(e) => handleKeyUp(e, button)}\n         >\n            Add Todo\n         </button>\n      </div>\n   );\n};\n\nconst Todo = (props, { store }) => {\n   const { style, onClick, completed, text, onContextMenu, id } = props;\n   return (\n      <li\n         onClick={e => onClick({store, e, id})}\n         onContextMenu={e => onContextMenu({store, e, id})}\n         style={{\n            textDecoration: completed? 'line-through' : 'none',\n            style\n         }}\n      >\n         {text}\n      </li>\n   );\n}\nTodo.contextTypes = {\n   store: React.PropTypes.object\n};\n\nconst TodoList = (props, { store }) => {\n   const { listStyle, singleTodoStyle, todos, onTodoClick } = props;\n   return (\n      <ul style={listStyle}>\n         {todos.map(todo =>\n            <Todo\n               store={store}\n               style={singleTodoStyle}\n               key={todo.id}\n               {...todo}\n               onClick={onTodoClick}\n               onContextMenu={onTodoClick}\n            />\n         )}\n      </ul>\n   );\n}\nTodoList.contextTypes = {\n   store: React.PropTypes.object\n};\n\nconst Footer = (props, { store }) => {\n   const {footerStyle, selectionStyle, linkStyle } = props;\n   return (\n      <p style={footerStyle}>\n         Show:\n         {' '}\n         <FilterLink\n            store={store}\n            selectionStyle={selectionStyle}\n            linkStyle={linkStyle}\n            filter='SHOW_ALL'\n         >\n            All\n         </FilterLink>\n         {' '}\n         <FilterLink\n            store={store}\n            selectionStyle={selectionStyle}\n            linkStyle={linkStyle}\n            filter='SHOW_ACTIVE'\n         >\n            Active\n         </FilterLink>\n         {' '}\n         <FilterLink\n            store={store}\n            selectionStyle={selectionStyle}\n            linkStyle={linkStyle}\n            filter='SHOW_COMPLETED'\n         >\n            Completed\n         </FilterLink>\n      </p>\n   );\n};\nFooter.contextTypes = {\n   store: React.PropTypes.object\n};\n\nconst Link = (props) => {\n   const { selectionStyle, linkStyle, active, children, onClick } = props;\n   if (active) {\n      return <span style={selectionStyle}>{children}</span>;\n   }\n   return (\n      <a\n         style={linkStyle}\n         href='#'\n         onClick={e => {\n            e.preventDefault();\n            onClick();\n         }}\n      >\n         {children}\n      </a>\n   );\n};\n\n/************************************* Container Components ******************************/\n\nconst { Component } = React;\n\nclass VisibleTodoList extends Component {\n   componentDidMount() {\n      const {store} = this.context;\n      this.unsubscribe = store.subscribe(() =>\n         this.forceUpdate()\n      );\n   }\n   componentWillUnmount() {\n      this.unsubscribe();\n   }\n   render() {\n      const props = this.props;\n      const {store} = this.context;\n      const state = store.getState();\n      return (\n         <TodoList\n            store={store}\n            todos={\n               getVisibleTodos(\n                  state.todos,\n                  state.visibilityFilter\n               )\n            }\n            listStyle={props.listStyle}\n            singleTodoStyle={props.singleTodoStyle}\n            onTodoClick={handleClickTodo}\n         />\n      );\n   };\n}\nVisibleTodoList.contextTypes = {\n   store: React.PropTypes.object\n};\n\nclass FilterLink extends Component {\n   componentDidMount() {\n      const {store} = this.context;\n      this.unsubscribe = store.subscribe(() =>\n         this.forceUpdate()\n      );\n   }\n   componentWillUnmount() {\n      this.unsubscribe();\n   }\n   render() {\n      const props = this.props;\n      const {store} = this.context;\n      const state = store.getState();\n      return (\n         <Link\n            active={props.filter === state.visibilityFilter}\n            onClick={() =>\n               store.dispatch({\n                  type: 'SET_VISIBILITY_FILTER',\n                  filter: props.filter\n               })\n            }\n         >\n            {props.children}\n         </Link>\n      );\n   };\n}\nFilterLink.contextTypes = {\n   store: React.PropTypes.object\n};\n\nconst getVisibleTodos = (props) => {\n   const { todos, filter } = props;\n   switch (filter) {\n      case 'SHOW_COMPLETED':\n         return todos.filter(\n            t => t.completed\n         );\n      case 'SHOW_ACTIVE':\n         return todos.filter(\n            t => !t.completed\n         );\n      default:\n         return todos;\n   }\n};\n\n//using position:'-webkit-sticky', which only works on Safari. Will need to change later\nconst TodoApp = ({store}) => {\n   return (\n      <div style={{ width:'15em' }}>\n         <h1 style={{textAlign:'center', margin:'16px'}}>Todo</h1>\n         <AddTodo\n            store={store}\n            divStyle={{ display:'block', alignContent:'center', margin:0, height:'1.25em',\n            width:'100%', position:'-webkit-sticky', left:'0px', top:'0px' }}\n            inputStyle={{ height:'calc(100% - 4px)', fontSize:'1em', position:'absolute', left:'0',\n               right:'6.5em', border:'1px inset #ccc', margin:0, backgroundColor:'#eee',\n               width:'calc(100% - 6.5em' }}\n            buttonStyle={{ height:'100%', width:'6em', position:'absolute', right:'0',\n               border:'1px outset #aaa', borderRadius:'4px', textAlign:'center',\n               backgroundColor:'#eee', fontSize:'1em', padding:'0 0.4em' }}\n         />\n         <VisibleTodoList\n            store={store}\n            listStyle={{  }}\n            singleTodoStyle={{  }}\n         />\n         <Footer\n            store={store}\n            footerStyle={{ textAlign:'center', margin:'3px', display:'block' }}\n            selectionStyle={{  }}\n            linkStyle={{  }}\n         />\n         <p style={{textAlign:'center', fontSize:'0.75em', margin:0}}>\n            Left click an item to toggle its completion.\n         </p>\n         <p style={{textAlign:'center', fontSize:'0.75em', margin:0}}>\n            Right click an item to remove it from the list.\n         </p>\n      </div>\n   );\n};\nTodoApp.contextTypes = {\n   store: React.PropTypes.object\n};\n\nclass Provider extends Component {\n   getChildContext() {\n      return {\n         store: this.props.store\n      };\n   }\n   render() {\n      return this.props.children;\n   }\n}\nProvider.childContextTypes = {\n   store: React.PropTypes.object\n};\n\nconst { createStore } = Redux;\n\nReactDOM.render(\n   <Provider store={createStore(todoApp)}>\n      <TodoApp />\n   </Provider>, document.getElementById('root')\n);\n\nif (document) document.addEventListener('DOMContentLoaded', function() {\n   document.getElementsByTagName('input')[0].focus();\n   window.onclick = function() {document.getElementsByTagName('input')[0].focus()};\n})\n\n\n\n"]},"metadata":{},"sourceType":"module"}