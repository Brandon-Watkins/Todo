{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports.default = void 0;\n\nvar _jestMatcherUtils = require('jest-matcher-utils');\n\nvar _jestMatchersObject = require('./jestMatchersObject');\n/**\n * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n\nconst resetAssertionsLocalState = () => {\n  (0, _jestMatchersObject.setState)({\n    assertionCalls: 0,\n    expectedAssertionsNumber: null,\n    isExpectingAssertions: false\n  });\n}; // Create and format all errors related to the mismatched number of `expect`\n// calls and reset the matcher's state.\n\n\nconst extractExpectedAssertionsErrors = () => {\n  const result = [];\n\n  const _ref = (0, _jestMatchersObject.getState)(),\n        assertionCalls = _ref.assertionCalls,\n        expectedAssertionsNumber = _ref.expectedAssertionsNumber,\n        expectedAssertionsNumberError = _ref.expectedAssertionsNumberError,\n        isExpectingAssertions = _ref.isExpectingAssertions,\n        isExpectingAssertionsError = _ref.isExpectingAssertionsError;\n\n  resetAssertionsLocalState();\n\n  if (typeof expectedAssertionsNumber === 'number' && assertionCalls !== expectedAssertionsNumber) {\n    const numOfAssertionsExpected = (0, _jestMatcherUtils.EXPECTED_COLOR)((0, _jestMatcherUtils.pluralize)('assertion', expectedAssertionsNumber));\n    expectedAssertionsNumberError.message = (0, _jestMatcherUtils.matcherHint)('.assertions', '', String(expectedAssertionsNumber), {\n      isDirectExpectCall: true\n    }) + '\\n\\n' + \"Expected \".concat(numOfAssertionsExpected, \" to be called but received \") + (0, _jestMatcherUtils.RECEIVED_COLOR)((0, _jestMatcherUtils.pluralize)('assertion call', assertionCalls || 0)) + '.';\n    result.push({\n      actual: assertionCalls,\n      error: expectedAssertionsNumberError,\n      expected: expectedAssertionsNumber\n    });\n  }\n\n  if (isExpectingAssertions && assertionCalls === 0) {\n    const expected = (0, _jestMatcherUtils.EXPECTED_COLOR)('at least one assertion');\n    const received = (0, _jestMatcherUtils.RECEIVED_COLOR)('received none');\n    isExpectingAssertionsError.message = (0, _jestMatcherUtils.matcherHint)('.hasAssertions', '', '', {\n      isDirectExpectCall: true\n    }) + '\\n\\n' + \"Expected \".concat(expected, \" to be called but \").concat(received, \".\");\n    result.push({\n      actual: 'none',\n      error: isExpectingAssertionsError,\n      expected: 'at least one'\n    });\n  }\n\n  return result;\n};\n\nvar _default = extractExpectedAssertionsErrors;\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}