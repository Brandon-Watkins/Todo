{"version":3,"sources":["../src/index.js"],"names":["todo","state","action","type","id","text","completed","todos","undefined","map","t","filter","visibilityFilter","combineReducers","Redux","todoApp","handleKeyDown","e","button","Window","event","keyCode","preventDefault","hasFocus","focus","handleKeyUp","click","nextTodoId","handleButtonClick","input","store","value","temp","dispatch","handleLeftClickTodo","handleRightClickTodo","document","getElementsByTagName","handleClickTodo","which","stopPropagation","AddTodo","divStyle","inputStyle","buttonStyle","React","useRef","node","buttonNode","contextTypes","PropTypes","object","Todo","style","onClick","onContextMenu","textDecoration","TodoList","listStyle","singleTodoStyle","onTodoClick","Footer","footerStyle","selectionStyle","linkStyle","Link","active","children","Component","connect","ReactRedux","VisibleTodoList","componentDidMount","context","unsubscribe","subscribe","forceUpdate","componentWillUnmount","render","props","getState","getVisibleTodos","FilterLink","TodoApp","width","textAlign","margin","display","alignContent","height","position","left","top","fontSize","right","border","backgroundColor","borderRadius","padding","Provider","getChildContext","childContextTypes","createStore","ReactDOM","getElementById","addEventListener","window","onclick"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport * as Redux from \"@reduxjs/toolkit\";\nimport * as ReactRedux from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\n/************************************* Reducers ******************************/\n\n\n//Reducer handling updating individual todo objects\nconst todo = (state = {}, action) => {\n   switch (action.type) {\n      case 'ADD_TODO':\n         return {\n            id: action.id,\n            text: action.text,\n            completed:false\n         };\n      case 'TOGGLE_TODO':\n         if (state.id !== action.id) {\n            return state;//Not the todo we're looking for.\n         }\n         return {\n            ...state,\n            completed: !state.completed\n         };\n      default:\n         return state;\n   }\n}\n\n// Reducer handling updating the list containing all todo objects\nconst todos = (state = [], action) => {\n   switch (action.type) {\n      case 'ADD_TODO':\n         return [\n            ...state,\n            todo(undefined, action)\n         ];\n      case 'TOGGLE_TODO':\n         return state.map(t => todo(t, action));\n      case 'REMOVE_TODO':\n         return state.filter(t => t.id !== action.id);\n      default:\n         return state;\n   }\n};\n\n// Reducer handling updating the visibility filter for the app\nconst visibilityFilter = (state = 'SHOW_ALL', action) => {\n   switch (action.type) {\n      case 'SET_VISIBILITY_FILTER':\n         return action.filter;\n      default:\n         return state;\n   }\n};\n\n// Reducer handling combining the list of todos with the visibility filter, representing the\n// final UI state\nconst { combineReducers } = Redux;\nconst todoApp = combineReducers({\n   todos,\n   visibilityFilter\n});\n\n/************************************* Event Handlers ******************************/\n\nconst handleKeyDown = (e, button) => {\n   e = e || Window.event;\n   if (e.keyCode === 13) {\n      e.preventDefault();\n      if (button.hasFocus) return;\n      button.focus();\n   }\n}\n\nconst handleKeyUp = (e, button) => {\n   e = e || Window.event;\n   if (e.keyCode === 13) {\n      e.preventDefault();\n      button.click();\n   }\n};\n\nlet nextTodoId = 0;\nconst handleButtonClick = (input, store) => {\n   if (input.value === '' || input.value === undefined) return input.focus();\n   const temp = input.value;\n   input.focus();\n   input.value = '';\n   store.dispatch({\n      type: 'ADD_TODO',\n      text: temp,\n      id: nextTodoId++\n   })\n};\n\nconst handleLeftClickTodo = (id, store) => {\n   store.dispatch({\n      type: 'TOGGLE_TODO',\n      id\n   })\n};\n\nconst handleRightClickTodo = (id, store) => {\n   store.dispatch({\n      type: 'REMOVE_TODO',\n      id\n   })\n   document.getElementsByTagName('input')[0].focus();\n};\n\nconst handleClickTodo = (e, id, store) => {\n   if (e.type) {\n      if (e.type === 'click') return handleLeftClickTodo(id, store);\n      if (e.type === 'contextmenu'){\n         e.preventDefault();\n         return handleRightClickTodo(id, store);\n      }\n   }\n   else if (e.which) {\n      if (e.which === 0) return handleLeftClickTodo(id, store);\n      if (e.which === 1){\n         e.stopPropagation() || e.preventDefault();\n         return handleRightClickTodo(id, store);\n      }\n   }\n   else if (e.button) {\n      if (e.button === 1) return handleLeftClickTodo(id, store);\n      if (e.button === 2){\n         e.stopPropagation() || e.preventDefault();\n         return handleRightClickTodo(id, store);\n      }\n   }\n};\n\n/************************************* Presentation Components ******************************/\n\nconst AddTodo = ({ divStyle, inputStyle, buttonStyle }, {store}) => {\n   let input = React.useRef(null);\n   let button = React.useRef(null);\n   return (\n      <div\n         style={divStyle}\n         onClick={() =>\n            input.focus()}\n         onLoad={() =>\n            input.focus()}\n      >\n         <input\n            style={inputStyle}\n            ref={node => {\n               input = node;\n            }}\n            onKeyUp={(e) => handleKeyUp(e, button)}\n            onKeyDown={(e) => handleKeyDown(e, button)}\n         />\n         <button\n            style={buttonStyle}\n            ref={buttonNode => {\n               button = buttonNode;\n            }}\n            onClick={() => handleButtonClick(input, store)}\n            onKeyDown={(e) => handleKeyDown(e, button)}\n            onKeyUp={(e) => handleKeyUp(e, button)}\n         >\n            Add Todo\n         </button>\n      </div>\n   );\n};\nAddTodo.contextTypes = {\n   store: PropTypes.object\n};\n\nconst Todo = ({ style, onClick, completed, text, onContextMenu, id, store }) => {\n   return (\n      <li\n         onClick={e => onClick(e, id, store)}\n         onContextMenu={e => onContextMenu(e, id, store)}\n         style={{\n            textDecoration: completed? 'line-through' : 'none',\n            style\n         }}\n      >\n         {text}\n      </li>\n   );\n};\n\nconst TodoList = ({ listStyle, singleTodoStyle, todos, onTodoClick, store}) => {\n   return (\n      <ul style={listStyle}>\n         {todos.map(todo =>\n            <Todo\n               store={store}\n               style={singleTodoStyle}\n               key={todo.id}\n               {...todo}\n               onClick={onTodoClick}\n               onContextMenu={onTodoClick}\n            />\n         )}\n      </ul>\n   );\n};\n\nconst Footer = ({ footerStyle, selectionStyle, linkStyle }) => {\n   return (\n      <p style={footerStyle}>\n         Show:\n         {' '}\n         <FilterLink\n            selectionStyle={selectionStyle}\n            linkStyle={linkStyle}\n            filter='SHOW_ALL'\n         >\n            All\n         </FilterLink>\n         {' '}\n         <FilterLink\n            selectionStyle={selectionStyle}\n            linkStyle={linkStyle}\n            filter='SHOW_ACTIVE'\n         >\n            Active\n         </FilterLink>\n         {' '}\n         <FilterLink\n            selectionStyle={selectionStyle}\n            linkStyle={linkStyle}\n            filter='SHOW_COMPLETED'\n         >\n            Completed\n         </FilterLink>\n      </p>\n   );\n};\nFooter.contextTypes = {\n   store: PropTypes.object\n};\n\nconst Link = ({ selectionStyle, linkStyle, active, children, onClick }) => {\n   if (active) {\n      return <span style={selectionStyle}>{children}</span>;\n   }\n   return (\n      <a\n         style={linkStyle}\n         href='#'\n         onClick={e => {\n            e.preventDefault();\n            onClick();\n         }}\n      >\n         {children}\n      </a>\n   );\n};\n\n/************************************* Container Components ******************************/\n\nconst { Component } = React;\nconst {connect} = ReactRedux;\n\nclass VisibleTodoList extends Component {\n   componentDidMount() {\n      const {store} = this.context;\n      this.unsubscribe = store.subscribe(() =>\n         this.forceUpdate()\n      );\n   }\n   componentWillUnmount() {\n      this.unsubscribe();\n   }\n   render() {\n      const props = this.props;\n      const {store} = this.context;\n      const state = store.getState();\n      return (\n         <TodoList\n            store={store}\n            todos={\n               getVisibleTodos(\n                  state.todos,\n                  state.visibilityFilter\n               )\n            }\n            listStyle={props.listStyle}\n            singleTodoStyle={props.singleTodoStyle}\n            onTodoClick={handleClickTodo}\n         />\n      );\n   };\n}\nVisibleTodoList.contextTypes = {\n   store: PropTypes.object\n};\n\nclass FilterLink extends Component {\n   componentDidMount() {\n      const {store} = this.context;\n      this.unsubscribe = store.subscribe(() =>\n         this.forceUpdate()\n      );\n   }\n   componentWillUnmount() {\n      this.unsubscribe();\n   }\n   render() {\n      const props = this.props;\n      const {store} = this.context;\n      const state = store.getState();\n      return (\n         <Link\n            active={props.filter === state.visibilityFilter}\n            onClick={() =>\n               store.dispatch({\n                  type: 'SET_VISIBILITY_FILTER',\n                  filter: props.filter\n               })\n            }\n         >\n            {props.children}\n         </Link>\n      );\n   };\n}\nFilterLink.contextTypes = {\n   store: PropTypes.object\n};\n\nconst getVisibleTodos = (todos, filter) => {\n   switch (filter) {\n      case 'SHOW_COMPLETED':\n         return todos.filter(\n            t => t.completed\n         );\n      case 'SHOW_ACTIVE':\n         return todos.filter(\n            t => !t.completed\n         );\n      default:\n         return todos;\n   }\n};\n\n// Using position:'-webkit-sticky', which only works on Safari, not letting me declare multiple\n// position properties here. Will need to change later, when swapping over to css.\nconst TodoApp = () => {\n   return (\n      <div style={{ width:'15em' }}>\n         <h1 style={{textAlign:'center', margin:'16px'}}>Todo</h1>\n         <AddTodo\n            divStyle={{ display:'block', alignContent:'center', margin:0, height:'1.25em',\n            width:'100%', position:'-webkit-sticky', left:'0px', top:'0px' }}\n            inputStyle={{ height:'calc(100% - 4px)', fontSize:'1em', position:'absolute', left:'0',\n               right:'6.5em', border:'1px inset #ccc', margin:0, backgroundColor:'#eee',\n               width:'calc(100% - 6.5em' }}\n            buttonStyle={{ height:'100%', width:'6em', position:'absolute', right:'0',\n               border:'1px outset #aaa', borderRadius:'4px', textAlign:'center',\n               backgroundColor:'#eee', fontSize:'1em', padding:'0 0.4em' }}\n         />\n         <VisibleTodoList\n            listStyle={{  }}\n            singleTodoStyle={{  }}\n         />\n         <Footer\n            footerStyle={{ textAlign:'center', margin:'3px', display:'block' }}\n            selectionStyle={{  }}\n            linkStyle={{  }}\n         />\n         <p style={{textAlign:'center', fontSize:'0.75em', margin:0}}>\n            Left click an item to toggle its completion.\n         </p>\n         <p style={{textAlign:'center', fontSize:'0.75em', margin:0}}>\n            Right click an item to remove it from the list.\n         </p>\n      </div>\n   );\n};\n\nclass Provider extends Component {\n   getChildContext() {\n      return {\n         store: this.props.store\n      };\n   }\n   render() {\n      return this.props.children;\n   }\n}\nProvider.childContextTypes = {\n   store: PropTypes.object\n};\n\nconst { createStore } = Redux;\n\nReactDOM.render(\n   <Provider store={createStore(todoApp)}>\n      <TodoApp />\n   </Provider>, document.getElementById('root')\n);\n\nif (document) document.addEventListener('DOMContentLoaded', function() {\n   document.getElementsByTagName('input')[0].focus();\n   window.onclick = function() {document.getElementsByTagName('input')[0].focus()};\n})\n\n\n\n"],"file":"index.js"}